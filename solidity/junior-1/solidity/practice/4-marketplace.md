# NFT Marketplace

1. Ознакомится с  [Lesson 15: NextJS NFT Marketplace](https://github.com/smartcontractkit/full-blockchain-solidity-course-js#lesson-15-nextjs-nft-marketplace-if-you-finish-this-lesson-you-are-a-full-stack-monster)
2. Написать контракт ончейн NFT-маркетплейса

## ТЗ

Маркетплейс выступает площадкой где торгуются различные NFT-коллекции или отдельные токены. Наш маркетплейс имеет простой функционал и работает с токенами ERC20 и ERC721.

## Как это выглядит со стороны продавца NFT

- продавец может листить (размещать нфт на площадке)
- продавец может изменять параметры листинга
- продавец может отменять листинг
- продавец может принять оффер на покупку NFT по цене, которую предложил покупатель

## Как это выглядит со стороны покупателя NFT

- покупатель может купить NFT, которая листится по цене, которую установил продавец
- покупатель может предложить офер на покупку NFT по своей цене и установить срок окончания офера

## Как это выглядит со стороны маркетплейса

- маркетплейс может установить комиссию площадки за каждую сделку
	- по умолчанию комиссия должна быть 2% (прописывается в контракте либо задается через конструктор)
	- должна быть возможность просматривать комиссию на смарт-контракте
	- должна быть возможность изменять комиссию на смарт-контракте
	- должна быть возможность установить минимальную комиссию 0.01%
- маркетплейс может установить получателя комиссии
	- получателя комисси должен задаваться в конструкторе
	- должна быть возможность изменить получателя комиссий площадки
	- должна быть возможность посмотреть адрес получателя комиссии площадки

### Функционал смарт-контракта:

- листинг нфт
- отмена листинга нфт
- изменение параметров листинга (токен оплаты и цена)
- покупка нфт, которая листится
- создание офера
- отмена офера
- принятие офера продавцом
- запись комиссии платформы
- запись получателя комиссии платформы
- просмотр комиссии платформы
- просмотр получателя комиссии платформы

### Дополнительные фичи, которые можно реализовать

- Списание роялти и отправка создателю NFT, если NFT поддерживает ERC-2981
- Аукцион

## Требования к выполнению задания

- **В смарт-контракте должны быть модификаторы**: `notListed`, `isListed`, `offerExists`, `offerNotExists`
- **В смарт-контракте должны быть события**: `ItemListed`, `ItemUpdated`, `ItemSold`, `OfferCreated`, `OfferCanceled`,  `UpdatePlatformFee`,  `UpdatePlatformFeeRecipient`
- **В смарт контракте должны быть все необходимые проверки** - например токен оплаты ERC20 должен проверяться на нулевой адрес, а ERC721 должен поддерживать интерфейс ERC721, в функции должны передаваться корректные аргументы и т.д.
- **Функции площадки должны быть с ограниченным доступом** (использовать Ownable)
- **Использовать ReentrancyGuard от OpenZeppelin** для защиты сделок от взлома.

---

- Итогом выполнения задания должен быть github-репозиторий, в котором будет лежать `hardhat + typescript` проект.
- Покрытие юнит тестами должно быть 100%. Для этого добавить плагин `solidity-coverage`.